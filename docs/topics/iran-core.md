---
layout: doc
outline: deep
lang: fa-IR
dir: rtl
title: "قطعی برق و افت اینترنت – راه‌حل DNS"
description: "چرا موقع قطعی برق اینترنت ضعیف میشه و چطور میشه با DNS اوضاع رو بهتر کرد"
date: 2025-08-22
editLink: true
head:
  - - meta
    - name: description
      content: قطعی برق و تاثیرش روی اینترنت، مشکل دکل‌های مخابراتی، ضعف آنتن، و استفاده از DNS برای بهتر شدن اوضاع
  - - meta
    - name: keywords
      content: دی‌ان‌اس, قطعی برق در ایران, اینترنت ضعیف, ضعف باتری دکل‌ها, مشکل اینترنت, DNS تستر, intra, dns tester, DoH, XStack
---

# قطعی برق و ماجرای ضعیف شدن اینترنت

### احتمالاً شما هم تجربه کردید  
برق که میره، یکم بعدش آنتن گوشی ضعیف میشه و اینترنت سکته‌ای میشه حتی اگه 4G باشه با همون یک خط آنتن بازم.

**علتش خیلی ساده‌ست:** `دکل‌های موبایل / BTS` برای کارکردن نیاز به برق دارن. وقتی برق میره، این دکل‌ها فقط به باتری‌های پشتیبان خودشون تکیه می‌کنن. 

<br/>
<p align="center">
  <img src="/dns/bts.jpg" alt="bts-1" width="1965px" />
</p>

<br/>

## چرا دکل‌ها از کار میفتن؟
- **ظرفیت محدود باتری‌ها:** باتری بیشتر دکل‌ها فقط یک یک الی دو ساعت جواب میده.  
- **شارژ نصفه‌نیمه:** وقتی قطعی‌ها طولانی و پشت سر هم باشه، باتری‌ها فرصت نمی‌کنن کامل شارژ بشن.  
- **باتری‌های خسته:** که مشکل ما همینه، باتری‌هایی که خیلی سال پیش عمرشون تموم شده، خیلی از این باتری‌ها قدیمی شدن و دیگه زورشون به روشن نگه‌داشتن تجهیزات دکل نمیرسه.   

## پس در نتیجه؟

**دکل‌ها یکی‌یکی خاموش میشن.**

گوشی مجبور میشه به دکل‌های دورتر وصل بشه، دکل‌هایی که تو محله‌های دیگه قرار دارن و برقشون قطع نشده هنوز.  
دکل دورتر یعنی ← آنتن ضعیف‌تر ← شلوغی روی دکل‌های باقی‌مونده ← پهنای باند خیلی کم ← اینترنت کند ← قطعی و وصلی زیاد ← اعصاب داغون

::: danger نکته

اگر دیدین گوشیتون سوئیچ نمی‌کنه روی دکل دیگه‌ای و وضعیت اون دکل که بهش وصلین خیلی خیلی خرابه؛ یکبار گوشی رو بذارید روی `حالت پرواز / ✈️` و چند ثانیه بعد از این حالت خارج کنید به دکل دیگه‌ای وصل بشه که عموما یکی بهتر از قبلی در دسترسه.

<br/>
<p align="center">
  <img src="/dns/bts-2.png" alt="bts-2" width="2500px" />
</p><br/>

:::

<hr/><br/>

# عدم کارکرد صحیح VPN در زمان قطعی برق

بالا گفتیم که چرا آنتن دستگاه میره و بالطبع اینترنت ضعیف میشه، حالا ما که کل زندگیمون فیلتر و تحریم‌ هستش دیگه به یه VPN هم نمی‌تونیم وصل بشیم، من پیشنهادم اینه حداقل یه DNS فعال کنید، از نت عادی‌که بهتره، خیلیاشون هستن که اکثر تحریم‌هایی که isp رو خیلی سایت‌ها و سرویس‌ها اعمال کرده رو دور میزنن.

## چرا موقع افت اینترنت DNS میتونه به کار خودش ادامه بده ولی VPN نه؟؟

### برای درک تفاوت DNS و VPN یه مثال ساده می‌زنم

- **VPN** مثل اینه که همه بار و بندیل‌ت رو بذاری توی یه کامیون زرهی و بفرستی جاده. درسته که امنه، ولی سنگین و کُنده، خسته کننده و فرسایشی میشه.
- 
- **DNS** فقط مثل یه نامه‌رسانه که آدرس دقیق مقصد رو از بیرون از یه کسی مه مثل سرویس‌دهنده‌های اینترنت خودمون کصکش نیست می‌پرسه و میاد. سبک و سریعه، ادایی نیست.

<br/> 

### چرا VPN بدرد نمی‌خوره وقتی نت ضعیفه؟
- کل ترافیکت رو باید رمزگذاری کنه ← حجم بالا ← نیاز به اینترنت پایدار ← نیاز به پهنای باند بیشتر
- آنتن و اینترنت که ضعیف باشن، VPN هم هی قطع و وصل میشه.

### چرا DNS بهتر جواب می‌ده؟
- فقط یه درخواست کوچیک می‌فرسته (آدرس سایت).
- مث وی‌پی‌ان تونل دائمی نمی‌سازه، سبک و سریع‌تره.
- می‌تونه فیلترینگ DNS رو هم دور بزنه (مثلاً وقتی ISP کصکش از دادن آدرس درست سایت خودداری می‌کنه و واسه همین اون‌سایت بالا نمیاد، ولی وقتی به DNS وصل می‌شیم اون درخواست‌ها رو از یه مسیر امن مثل `HTTPS` به یه سرور DNS دیگه مثل کلادفلر یا گوگل می‌فرسته که خب اونا دیگه محدودیت‌ ندارن‌. در نتیجه، آدرس صحیح سایت تحریمی رو برامون دریافت میکنه و اون سایت ب راحتی بالا میاد).

<br/> 

## جمع‌بندی

وقتی برق میره و اینترنت ضعیف میشه:
- VPN عملاً بی‌مصرف میشه چون نیاز به ارتباط پایدار داره.
- ابزارهای DNS مثل **`Intra`** یا **`Shekan`** سبک‌ترن و شانس بیشتری دارن که جواب بدن.

<hr/><br/> 

# معرفی DNS خوب

خب حالا سوال: کدوم DNS بهتره؟
این خب تو ایران جواب ثابت نداره. چون بسته به اپراتور فرق می‌کنه (یه DNS برای شاتل خوبه، یکی دیگه برای مخابرات یکی دیگه واسه همراه آخر).  

من برای نت ثابت مخابرات و شاتل موبایل، DoH اختصاصی گروه **[Xstack][XS]** رو پیشنهاد می‌کنم چون واقعا محشره

```ruby
https://rustdns.devefun.org/dns-query
```

<hr/><br/>

## تستر DNS آقا منصور 

اینجاست که تستر عالی آقا منصور [The Darkness][MA] به دادمون می‌رسه.   
کافیه VPN خاموش باشه، یکی از لینک‌های زیر رو باز کنید، گزینه بررسی رو بزنید و صبر کنید تا نتایج رو براتون لیست کنه. 

<div dir="ltr">

:::tabs

== GitHub

https://darknessshade.github.io/DNS-Tester

== Cloudflare

https://dns-tester.pages.dev

:::

</div>

<br/> 

<p align="center">
  <img src="/dns/DNS-1.png" alt="DNS-Tester" width="1080px" />
</p>

<br/>

بعدش اون DNSی که بهترین پینگ رو داشت کپی کنید و بذارید داخل برنامه **Intra**. همین!

::: danger اسکرین‌شات

::: details  برای مشاهده کلیک کنید

<br/>
<p align="center">
  <img src="/dns/DNS-2.png" alt="DNS-Tester-2" width="1080px" />
</p>

<br/>
<p align="center">
  <img src="/dns/DNS-3.png" alt="DNS-Tester-3" width="1080px" />
</p>

:::

<br/>


فورک و استار زدن یادتون نره ✋🏿

[لینک گیت‌هاب آقا منصور][TD]

<br/>

## تنظیم DoH در برنامه Intra

حالا که DNS مناسب واسه اینترنت خودمون رو پیدا کردیم (مثلاً با تستر آقا منصور)، باید اونو داخل برنامه **Intra** اضافه کنیم.  

این کار خیلی ساده‌ست:

1. برنامه **Intra** رو باز کنید و روی آیکون تنظیمات (در بالا گوشه‌ی سمت چپ صفحه) بزنید.
2. روی گزینه **Setting** بزنید.
3. گزینه‌ی اول یعنی **Select DNS over HTTPS server** رو بزنید.
4. روی **Custom server URL** بزنید.
5. لینک **DoH** که از تستر کپی کردیم رو وارد کنید مثلاً واسه‌ی من پیشنهاد اول تستر این بود:

```ruby
https://rustdns.devefun.org/dns-query
```

یا حتی سرویس shekan

```yaml
https://free.shecan.ir/dns-query
```

6. گزینه **Accept** رو بزنید و برگردید به صفحه اصلی
7. تو صفحه‌ی اصلی بزنید روی دکمه فعال‌سازی تا شروع به کار بکنه، اگه بار اول باشه ازتون یه درخواستی می‌کنه بزنید روی OK تا موافقت بشه.

از این به بعد، اینترنت شما برای پرس‌وجوی آدرس‌ها از این DNS استفاده می‌کنه بجای DNS انتخابی سرویس‌دهنده اینترنتتون.

با این DNS گروه `Xstack` که من تعیین کردم و هم‌چنین DNS گروه `شکن` رو بعضی اینترنت‌ها یوتیوب و اینستاگرام و توئیتر بدون مشکل بالا میان، و هزاران سایتی که تحت تحریم ظالمانه 🤣 از طرف ایران هستن.

<br/> 

::: danger اسکرین‌شات از پروسه‌ی فعال‌سازی اینترا

::: details  برای مشاهده تصاویر کلیک کنید

<br/>
<p align="center">
  <img src="/dns/intra-1.png" alt="Intra-1" width="1080px" />
</p><br/>

<br/>
<p align="center">
  <img src="/dns/intra-2.png" alt="Intra-2" width="1080px" />
</p><br/>

<br/>
<p align="center">
  <img src="/dns/intra-3.png" alt="Intra-3" width="1080px" />
</p><br/>

<br/>
<p align="center">
  <img src="/dns/intra-4.png" alt="Intra-4" width="1080px" />
</p><br/>

<br/>
<p align="center">
  <img src="/dns/intra-5.png" alt="Intra-5" width="1080px" />
</p><br/>

:::

<hr/><br/> 

### لینک‌های دانلود

اپلیکیشن Intra محصول تیم Jigsaw (زیرمجموعه گوگل) هستش.

نسخه‌های رسمی و امنش رو از این لینک‌ها می‌تونید دانلود کنید:

<br/>

|     **پلتفرم**     |   **لینک‌های دانلود**     |
|:------------------:|:-------------------------|
|  اندروید           | [Google Play – Intra][1] |
|  فایل نصبی اندروید | [APKMirror – Intra][2]   |
|  مخزن گیت‌هال پروژه | [Jigsaw-Code/Intra][3]   |
| فایل نصبی اندروید  | [Shekan DNS][4]          |
|  آیفون - IOS       | [AppleStore - NEXT][5]   |
|  آیفون -  IOS      | [AppleStore - CLOAK][6]  |


::: info نکته

این برنامه بیشتر برای **اندروید** توسعه داده شده. نسخه‌ی iOS رسمی نداره، ولی برای دسکتاپ (ویندوز/مک/لینوکس) می‌شه از جایگزین‌هایی مثل **Nebulo** یا تغییر DNS دستی استفاده کرد. 

:::


[1]: https://play.google.com/store/apps/details?id=app.intra
[2]: https://www.apkmirror.com/apk/jigsaw/intra/
[3]: https://github.com/Jigsaw-Code/Intra
[4]: https://shecan.ir/tutorials/
[5]: https://apps.apple.com/us/app/nextdns/id1463342498
[6]: https://apps.apple.com/us/app/dnscloak-secure-dns-client/id1452162351
[XS]: https://t.me/devefun/4681
[TD]: https://github.com/darknessshade/
[MA]: https://telegram.me/mansor427
